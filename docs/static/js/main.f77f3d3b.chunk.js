(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[1],[,,function(e,t,n){e.exports={root:"button_root__3EVBt",button:"button_button__3_GL1"}},,,function(e,t,n){e.exports={root:"app_root__2y0JE"}},function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(4),r=n.n(i),c=n(1),l=n(2),u=n.n(l),s=function(e){return o.a.createElement("div",{className:u.a.root},o.a.createElement("button",{className:u.a.button,onClick:e.onClick},e.isPlay?"Pause":"Play"))},h=function(e,t){var n={width:t.width(),height:t.height()};return e.height=6*n.height+1,e.width=6*n.width+1,{canvas:e,size:n}},f=function(e,t){e.beginPath(),e.strokeStyle="#CCCCCC";for(var n=0;n<=t.width;n++)e.moveTo(6*n+1,0),e.lineTo(6*n+1,6*t.height+1);for(var a=0;a<=t.height;a++)e.moveTo(0,6*a+1),e.lineTo(6*t.width+1,6*a+1);e.stroke()},m=function(e,t,n){return e*n+t},d=function(e,t,n,a){var o=e.cells(),i=new Uint8Array(t.buffer,o,n.width*n.height);a.beginPath(),a.fillStyle="#000000";for(var r=0;r<n.height;r++)for(var c=0;c<n.width;c++){0!==i[m(r,c,n.width)]&&a.fillRect(6*c+1,6*r+1,5,5)}a.fillStyle="#FFFFFF";for(var l=0;l<n.height;l++)for(var u=0;u<n.width;u++){1!==i[m(l,u,n.width)]&&a.fillRect(6*u+1,6*l+1,5,5)}a.stroke()},v=function(e){var t=function(e,t,n,o){var i=Object(a.useRef)(null),r=Object(a.useRef)(1/0);return Object(a.useEffect)((function(){if(i.current){var a=h(i.current,e),c=a.canvas,l=a.size,u=c.getContext("2d");f(u,l),d(e,t,l,u),function a(){o(),e.tick(),f(u,l),d(e,t,l,u),n?r.current=requestAnimationFrame(a):(cancelAnimationFrame(r.current),r.current=1/0)}()}}),[e,t,n,o]),{onToggleCanvas:Object(a.useCallback)((function(n){return n?function(a){var o=n.getBoundingClientRect(),i=h(n,e).size,r=n.width/o.width,c=n.height/o.height,l=(a.clientX-o.left)*r,u=(a.clientY-o.top)*c,s=Math.min(Math.floor(u/6),i.height-1),m=Math.min(Math.floor(l/6),i.width-1),v=n.getContext("2d");e.toggle_cell(s,m),f(v,i),d(e,t,i,v)}:function(){}}),[]),canvasRef:i}}(e.universe,e.memory,e.isPlay,e.calculate),n=t.onToggleCanvas,i=t.canvasRef;return o.a.createElement("canvas",{ref:i,onClick:n(i.current)})},w=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"Frames per Second:"),o.a.createElement("ul",null,o.a.createElement("li",null,"latest = ",Math.round(e.fps)),o.a.createElement("li",null,"avg of last 100 = ",Math.round(e.mean)),o.a.createElement("li",null,"min of last 100 = ",Math.round(e.min)),o.a.createElement("li",null,"max of last 100 = ",Math.round(e.max))))},g=n(5),b=n.n(g),p=function(e){return o.a.createElement("div",{className:b.a.root},o.a.createElement(w,{fps:e.numerics.fps,max:e.numerics.max,min:e.numerics.min,mean:e.numerics.mean}),o.a.createElement(s,{isPlay:e.isPlay,onClick:e.onClickPlay}),o.a.createElement(v,{universe:e.universe,memory:e.memory,isPlay:e.isPlay,calculate:e.calculate}))},y=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),i=t[0],r=t[1],l=Object(a.useState)(),u=Object(c.a)(l,2),s=u[0],h=u[1],f=Object(a.useState)(!0),m=Object(c.a)(f,2),d=m[0],v=m[1],w=Object(a.useCallback)((function(){v((function(e){return!e}))}),[]);Object(a.useEffect)((function(){try{Promise.all([n.e(0),n.e(4)]).then(n.bind(null,17)).then((function(e){var t=window.matchMedia("(min-width:640px)").matches?96:64,n=window.matchMedia("(min-width:640px)").matches?96:64;r(e.Universe.new(t,n))})),n.e(0).then(n.bind(null,13)).then((function(e){h(e.memory)}))}catch(e){console.log(e)}}),[]);var g=function(){var e=[],t=Object(a.useRef)(performance.now()),n=Object(a.useState)(0),o=Object(c.a)(n,2),i=o[0],r=o[1],l=Object(a.useState)(0),u=Object(c.a)(l,2),s=u[0],h=u[1],f=Object(a.useState)(0),m=Object(c.a)(f,2),d=m[0],v=m[1],w=Object(a.useState)(0),g=Object(c.a)(w,2),b=g[0],p=g[1];return{calculate:Object(a.useCallback)((function(){var n=performance.now(),a=n-t.current;t.current=n;var o=1/a*1e3;r(o),e.push(o),e.length>100&&e.shift();for(var i=1/0,c=-1/0,l=0,u=0;u<e.length;u++)l+=e[u],i=Math.min(i,e[u]),c=Math.max(c,e[u]);p(c),v(i),h(l/e.length)}),[]),numerics:{fps:i,mean:s,min:d,max:b}}}(),b=g.numerics,y=g.calculate;return i&&s?o.a.createElement(p,{universe:i,memory:s,onClickPlay:w,isPlay:d,numerics:b,calculate:y}):o.a.createElement("div",null,"Loading...")},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):j(t,e)}))}}()}],[[6,2,3]]]);
//# sourceMappingURL=main.f77f3d3b.chunk.js.map