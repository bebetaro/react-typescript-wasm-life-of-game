(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[1],[,,function(e,t,n){e.exports={root:"button_root__3EVBt",button:"button_button__3_GL1"}},,,function(e,t,n){e.exports={root:"app_root__2y0JE"}},function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(11),n(1)),l=n(2),u=n.n(l),s=function(e){return r.a.createElement("div",{className:u.a.root},r.a.createElement("button",{className:u.a.button,onClick:e.onClick},e.isPlay?"Pause":"Play"))},m=function(e,t){var n={width:t.width(),height:t.height()};return e.height=6*n.height+1,e.width=6*n.width+1,{canvas:e,size:n}},h=function(e,t){e.beginPath(),e.strokeStyle="#CCCCCC";for(var n=0;n<=t.width;n++)e.moveTo(6*n+1,0),e.lineTo(6*n+1,6*t.height+1);for(var a=0;a<=t.height;a++)e.moveTo(0,6*a+1),e.lineTo(6*t.width+1,6*a+1);e.stroke()},f=function(e,t,n){return e*n+t},v=function(e,t,n,a){var r=e.cells(),c=new Uint8Array(t.buffer,r,n.width*n.height);a.beginPath(),a.fillStyle="#000000";for(var i=0;i<n.height;i++)for(var o=0;o<n.width;o++){0!==c[f(i,o,n.width)]&&a.fillRect(6*o+1,6*i+1,5,5)}a.fillStyle="#FFFFFF";for(var l=0;l<n.height;l++)for(var u=0;u<n.width;u++){1!==c[f(l,u,n.width)]&&a.fillRect(6*u+1,6*l+1,5,5)}a.stroke()},b=function(e){var t=function(e,t,n,r){var c=Object(a.useRef)(null),i=Object(a.useRef)(0);return Object(a.useEffect)((function(){if(c.current){var a=m(c.current,e),o=a.canvas,l=a.size,u=o.getContext("2d");h(u,l),v(e,t,l,u),n?function n(){r(),e.tick(),h(u,l),v(e,t,l,u),i.current=requestAnimationFrame(n)}():(cancelAnimationFrame(i.current),i.current=0)}}),[e,t,n,r]),{onToggleCanvas:Object(a.useCallback)((function(n){return n?function(a){var r=n.getBoundingClientRect(),c=m(n,e).size,i=n.width/r.width,o=n.height/r.height,l=(a.clientX-r.left)*i,u=(a.clientY-r.top)*o,s=Math.min(Math.floor(u/6),c.height-1),f=Math.min(Math.floor(l/6),c.width-1),b=n.getContext("2d");e.toggle_cell(s,f),h(b,c),v(e,t,c,b)}:function(){}}),[]),canvasRef:c}}(e.universe,e.memory,e.isPlay,e.calculate),n=t.onToggleCanvas,c=t.canvasRef;return r.a.createElement("canvas",{ref:c,onClick:n(c.current)})},d=function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Frames per Second:"),r.a.createElement("ul",null,r.a.createElement("li",null,"latest = ",Math.round(e.fps)),r.a.createElement("li",null,"avg of last 100 = ",Math.round(e.mean)),r.a.createElement("li",null,"min of last 100 = ",Math.round(e.min)),r.a.createElement("li",null,"max of last 100 = ",Math.round(e.max))))},g=n(5),w=n.n(g),y=function(e){return r.a.createElement("div",{className:w.a.root},r.a.createElement(d,{fps:e.numerics.fps,max:e.numerics.max,min:e.numerics.min,mean:e.numerics.mean}),r.a.createElement(s,{isPlay:e.isPlay,onClick:e.onClickPlay}),r.a.createElement(b,{universe:e.universe,memory:e.memory,isPlay:e.isPlay,calculate:e.calculate}))},E=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),c=t[0],i=t[1],l=Object(a.useState)(),u=Object(o.a)(l,2),s=u[0],m=u[1],h=Object(a.useState)(!0),f=Object(o.a)(h,2),v=f[0],b=f[1],d=Object(a.useCallback)((function(){b((function(e){return!e}))}),[]);Object(a.useEffect)((function(){try{Promise.all([n.e(0),n.e(4)]).then(n.bind(null,18)).then((function(e){i(e.Universe.new())})),n.e(0).then(n.bind(null,14)).then((function(e){m(e.memory)}))}catch(e){console.log(e)}}),[]);var g=function(){var e=[],t=Object(a.useRef)(performance.now()),n=Object(a.useState)(0),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(0),u=Object(o.a)(l,2),s=u[0],m=u[1],h=Object(a.useState)(0),f=Object(o.a)(h,2),v=f[0],b=f[1],d=Object(a.useState)(0),g=Object(o.a)(d,2),w=g[0],y=g[1];return{calculate:Object(a.useCallback)((function(){var n=performance.now(),a=n-t.current;t.current=n;var r=1/a*1e3;i(r),e.push(r),e.length>100&&e.shift();for(var c=1/0,o=-1/0,l=0,u=0;u<e.length;u++)l+=e[u],c=Math.min(c,e[u]),o=Math.max(o,e[u]);y(o),b(c),m(l/e.length)}),[]),numerics:{fps:c,mean:s,min:v,max:w}}}(),w=g.numerics,E=g.calculate;return c&&s?r.a.createElement(y,{universe:c,memory:s,onClickPlay:d,isPlay:v,numerics:w,calculate:E}):r.a.createElement("div",null,"Loading...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,2,3]]]);
//# sourceMappingURL=main.a6e2ba6e.chunk.js.map